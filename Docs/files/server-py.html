<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>server.py</title><link rel="stylesheet" type="text/css" href="../styles/main.css" /><script type="text/javascript" src="../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="User"></a><a name="Topic1"></a><div class="CTopic TClass LPython first">
 <div class="CTitle">User</div>
 <div class="NDClassPrototype HasParents" id="NDClassPrototype1"><div class="CPEntry Parent TClass"><div class="CPName">Model</div></div><div class="CPEntry TClass Current"><div class="CPName">User</div></div></div>
 <div class="CBody"><p>Defines username and password for individual user.</p></div>
</div>

<a name="Session"></a><a name="Topic2"></a><div class="CTopic TClass LPython">
 <div class="CTitle">Session</div>
 <div class="NDClassPrototype HasParents" id="NDClassPrototype2"><div class="CPEntry Parent TClass"><div class="CPName">Model</div></div><div class="CPEntry TClass Current"><div class="CPName">Session</div></div></div>
 <div class="CBody"><p>Generates randam token for every section new Token is assigned to every User for every new session</p></div>
</div>

<a name="Contest"></a><a name="Topic3"></a><div class="CTopic TClass LPython">
 <div class="CTitle">Contest</div>
 <div class="NDClassPrototype HasParents" id="NDClassPrototype3"><div class="CPEntry Parent TClass"><div class="CPName">Model</div></div><div class="CPEntry TClass Current"><div class="CPName">Contest</div></div></div>
 <div class="CBody"><p>Each Contest instance contains:- Code Description of contest Contest start time and End Time</p></div>
</div>

<a name="Question"></a><a name="Topic4"></a><div class="CTopic TClass LPython">
 <div class="CTitle">Question</div>
 <div class="NDClassPrototype HasParents" id="NDClassPrototype4"><div class="CPEntry Parent TClass"><div class="CPName">Model</div></div><div class="CPEntry TClass Current"><div class="CPName">Question</div></div></div>
 <div class="CBody"><p>Each Question has a Question no and a author associated to it</p></div>
</div>

<a name="ContestProblems"></a><a name="Topic5"></a><div class="CTopic TClass LPython">
 <div class="CTitle">ContestProblems</div>
 <div class="NDClassPrototype HasParents" id="NDClassPrototype5"><div class="CPEntry Parent TClass"><div class="CPName">Model</div></div><div class="CPEntry TClass Current"><div class="CPName">ContestProblems</div></div></div>
 <div class="CBody"><p>All contest problems belong to a Contest and are itself a question.&nbsp; contest defines the instance of Contest Class it belongs question defines the questions that belongs to that contest.</p></div>
</div>

<a name="Submission"></a><a name="Topic6"></a><div class="CTopic TClass LPython">
 <div class="CTitle">Submission</div>
 <div class="NDClassPrototype HasParents" id="NDClassPrototype6"><div class="CPEntry Parent TClass"><div class="CPName">Model</div></div><div class="CPEntry TClass Current"><div class="CPName">Submission</div></div></div>
 <div class="CBody"><p>Class defines the submission of solution of a Question Stores the information about: User that submits the Solution Time of Submission Contest to whish The question belongs Whether the soolution is correct</p></div>
</div>

<a name="Submission.Functions"></a><a name="Topic7"></a><div class="CTopic TGroup LPython">
 <div class="CTitle">Functions</div>
</div>

<a name="Submission.login_required"></a><a name="Topic8"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">login_required</div>
 <div id="NDPrototype8" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">def login_required(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">function</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Extends the functainality of a funcion by checking log in condition.&nbsp; Checks if the user is logged in.if not redirect the user to home page with message 'Login Required' parameters : Function on which decorator is applied</p></div>
</div>

<a name="Submission.changePath"></a><a name="Topic9"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">changePath</div>
 <div id="NDPrototype9" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.route(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PNamePrefix first last"><span class="SHString">&quot;/&quot;</span></td></tr></table></td><td class="PAfterParameters">) def changePath()</td></tr></table></div>
 <div class="CBody"><p>redirects to home page</p></div>
</div>

<a name="Submission.home"></a><a name="Topic10"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">home</div>
 <div id="NDPrototype10" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.<span class="SHKeyword">get</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PNamePrefix first"><span class="SHString">&quot;/</span></td><td class="PName last">home&quot;</td></tr></table></td><td class="PAfterParameters">) def home()</td></tr></table></div>
 <div class="CBody"><p>redirects to Dashboard of the user</p></div>
</div>

<a name="Submission.dashboard"></a><a name="Topic11"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">dashboard</div>
 <div id="NDPrototype11" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.<span class="SHKeyword">get</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PNamePrefix first"><span class="SHString">&quot;/</span></td><td class="PName last">dashboard&quot;</td></tr></table></td><td class="PAfterParameters">) @login_required def dashboard()</td></tr></table></div>
 <div class="CBody"><p>redirects to Dashboard of the user</p></div>
</div>

<a name="Submission.question"></a><a name="Topic12"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">question</div>
 <div id="NDPrototype12" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.<span class="SHKeyword">get</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PNamePrefix first"><span class="SHString">&quot;/</span></td><td class="PName last">contest/&lt;code&gt;/&lt;number&gt;&quot;</td></tr></table></td><td class="PAfterParameters">) @login_required def question(code, number)</td></tr></table></div>
 <div class="CBody"><p>Checks if the question and Contest it belongs does exists.&nbsp; If exists : it checks the current status of the contest And then returns the question state ment along with question numbers and contest code to the Template Parameters: code: Contest Code number: Question Number Return: Question Template</p></div>
</div>

<a name="Submission.contest_Function"></a><a name="Topic13"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">contest: Function</div>
 <div class="CBody"><p>Checks if contest exists by validating the contest id.&nbsp; Checks the the current staus of code Parameters: code : contest code Return : Contest Template</p></div>
</div>

<a name="Submission.download"></a><a name="Topic14"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">download</div>
 <div id="NDPrototype14" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.<span class="SHKeyword">get</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PNamePrefix first"><span class="SHString">&quot;/</span></td><td class="PName last">question/&lt;path:path&gt;&quot;</td></tr></table></td><td class="PAfterParameters">) def download(path)</td></tr></table></div>
 <div class="CBody"><p>Downloads the question to local system Parameters: path :path to download from Return : Static Files: Downloadable Files</p></div>
</div>

<a name="Submission.server_static"></a><a name="Topic15"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">server_static</div>
 <div id="NDPrototype15" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.<span class="SHKeyword">get</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PNamePrefix first"><span class="SHString">&quot;/</span></td><td class="PName last">static/&lt;filepath:path&gt;&quot;</td></tr></table></td><td class="PAfterParameters">) def server_static(filepath)</td></tr></table></div>
 <div class="CBody"><p>Static files for server Parameters: path :path of file Return : Static Files</p></div>
</div>

<a name="Submission.contest_ranking"></a><a name="Topic16"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">contest_ranking</div>
 <div id="NDPrototype16" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.<span class="SHKeyword">get</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PNamePrefix first"><span class="SHString">&quot;/</span></td><td class="PName last">ranking/&lt;code&gt;&quot;</td></tr></table></td><td class="PAfterParameters">) def contest_ranking(code)</td></tr></table></div>
 <div class="CBody"><p>Generates rankinks of users in a Contest i.e the Contest results Validates the Sumbission And Contest Checks the number of correct submissions for each user and Added to list with tuples of Username Along with thier Scores . The tuples are added to list in descending order of the score .Then rankings are given to each Username in the list.</p><div class="CHeading">Parameters</div><p>code : contest code Return : Ranking Template with ranks of different user in&nbsp; a contest.</p></div>
</div>

<a name="Submission.rankings"></a><a name="Topic17"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">rankings</div>
 <div id="NDPrototype17" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.<span class="SHKeyword">get</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PNamePrefix first"><span class="SHString">&quot;/</span></td><td class="PName last">ranking&quot;</td></tr></table></td><td class="PAfterParameters">) def rankings()</td></tr></table></div>
 <div class="CBody"><p>Overall Ranking of the user over all the Contest.&nbsp; Parameters: None Return : Ranking Template with Overall Ranking</p></div>
</div>

<a name="Submission.loggedIn"></a><a name="Topic18"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">loggedIn</div>
 <div class="CBody"><p>Downloads the question to local system Parameters: None Return : True: if Session exixsts for the user Logged In False: if Session not exixst for the user Logged In or if the s_id is not present or is wrong</p></div>
</div>

<a name="Submission.createSession"></a><a name="Topic19"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">createSession</div>
 <div id="NDPrototype19" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">def createSession(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">username</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Create a session for the user Set up cookie for The current session with seesion id ,token and expiry time Parameters: username: Username of user For whom session is Created.&nbsp; Return : Redirects to user Dashoard</p></div>
</div>

<a name="Submission.login"></a><a name="Topic20"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">login</div>
 <div id="NDPrototype20" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.post(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PNamePrefix first"><span class="SHString">&quot;/</span></td><td class="PName last">login&quot;</td></tr></table></td><td class="PAfterParameters">) def login()</td></tr></table></div>
 <div class="CBody"><p>This function is called whenever user log in to the app Checks if the user entered the Right credentials for log in Parameters: None Return : Redirects to home if invalid credenial Else Creates the session for the user</p></div>
</div>

<a name="Submission.resgiter"></a><a name="Topic21"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">resgiter</div>
 <div class="CBody"><p>This function is called whenever new user registers New User is Created in the Data base and his credentials are stored Checks if the user with same username already exisxts Parameters: None Return : Creates session for new user.</p></div>
</div>

<a name="Submission.logout"></a><a name="Topic22"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">logout</div>
 <div id="NDPrototype22" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.<span class="SHKeyword">get</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PNamePrefix first"><span class="SHString">&quot;/</span></td><td class="PName last">logout&quot;</td></tr></table></td><td class="PAfterParameters">) def logout()</td></tr></table></div>
 <div class="CBody"><p>Ends the session for the user Deletes the session cookie</p><div class="CHeading">Parameters</div><p>None Return : Redirects to Home Page</p></div>
</div>

<a name="Submission.file_upload"></a><a name="Topic23"></a><div class="CTopic TFunction LPython">
 <div class="CTitle">file_upload</div>
 <div id="NDPrototype23" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.post(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PNamePrefix first"><span class="SHString">&quot;/</span></td><td class="PName last">check/&lt;code&gt;/&lt;number&gt;&quot;</td></tr></table></td><td class="PAfterParameters">) @login_required def file_upload(code, number)</td></tr></table></div>
 <div class="CBody"><p>This Function is used to upload the submission to&nbsp; Question to the Server.&nbsp; Parameters: code: Contest Code number : Question No of ehich solution is uploaded Return : &quot;Wrong Answer!! : If solution is wrong &quot;Solved! Great Job! &quot; : If solution is correct</p></div>
</div>

<a name="Submission.error404"></a><a name="Topic24"></a><div class="CTopic TFunction LPython last">
 <div class="CTitle">error404</div>
 <div id="NDPrototype24" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">@app.error(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">404</td></tr></table></td><td class="PAfterParameters">) def error404(error)</td></tr></table></div>
 <div class="CBody"><p>Handles Error Parameter: error : Error rturned the App Return : Redirects to</p></div>
</div>

</body></html>